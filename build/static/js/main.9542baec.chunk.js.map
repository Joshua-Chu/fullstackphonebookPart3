{"version":3,"sources":["components/persons.js","components/filter.js","components/personform.js","services/phone.js","components/notifications.js","App.js","index.js"],"names":["Person","person","handleDelete","name","number","onClick","id","Persons","persons","map","Filter","search","handleSetSearch","value","onChange","Input","handleEvent","text","PersonForm","props","addName","onSubmit","newName","handleSetNewName","newNum","handleSetNewNum","type","baseURL","axios","get","then","res","data","newObj","post","delete","put","Notifications","notif","includes","className","App","useState","setPersons","setNewName","setNewNum","setSearch","setNotif","useEffect","phoneService","catch","err","console","log","filteredPersons","filter","toLowerCase","e","target","preventDefault","findIndex","window","confirm","find","p","copy","alert","returnObj","concat","response","error","setTimeout","personCopy","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9542baec.chunk.js","sourcesContent":["\r\n\r\nconst Person = ({person, handleDelete})=>{\r\n    \r\n\r\n    return(\r\n       <div>\r\n            {person.name} {person.number}\r\n            <button onClick={()=>handleDelete(person.id, person.name)}>Delete</button>\r\n       </div>\r\n    )\r\n}\r\nconst Persons = ({persons, handleDelete}) =>{\r\n \r\n\r\n\r\n    return (\r\n        <div>\r\n            { \r\n                persons.map(person=>\r\n                        <Person key={person.number} person={person} handleDelete={handleDelete}/>\r\n                \r\n                )\r\n            }\r\n        </div>\r\n       \r\n    )\r\n}\r\nexport default Persons","const Filter = ({search, handleSetSearch})=>{\r\n    return(\r\n        <div>\r\n            filter shown with: <input value={search} onChange={handleSetSearch}/>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Filter","const Input = ({value, handleEvent, text})=>{\r\n    return(\r\n        <div>\r\n            {text}:  <input value={value} onChange={handleEvent} />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst PersonForm = (props)=>{\r\n    const {addName, value, handleEvent} = props\r\n\r\n\r\n    return(\r\n  \r\n        <div>\r\n            <form onSubmit={addName}>\r\n                <Input text=\"Name\" value={value.newName} handleEvent={handleEvent.handleSetNewName}/>\r\n                <Input text=\"Number\" value={value.newNum} handleEvent={handleEvent.handleSetNewNum}/>\r\n                <div>\r\n                    <button type='submit'>Add</button>  \r\n                </div>\r\n             </form>\r\n        </div>\r\n      \r\n    )\r\n\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\n\r\n\r\nconst baseURL = '/api/persons'\r\n\r\n\r\n\r\nconst getAll = ()=>{\r\n    const response = axios.get(baseURL)\r\n    return response.then(res => res.data)\r\n}\r\n\r\nconst create = (newObj) =>{\r\n    const response = axios.post(baseURL, newObj)\r\n    return response.then(res => res.data)\r\n}\r\n\r\nconst deleteItem = (id) =>{\r\n    const response = axios.delete(`${baseURL}/${id}`)\r\n    return response.then(res => res.data)\r\n}\r\n\r\n\r\nconst update = (id, newObj) =>{\r\n    const response = axios.put(`${baseURL}/${id}`, newObj)\r\n    return response.then(res => res.data)\r\n}\r\n\r\nexport default {getAll , create, deleteItem, update}","const Notifications = ({notif})=>{\r\n    if (notif === null){\r\n        return(\r\n            null\r\n        )\r\n    }else if(notif.includes('Added')){\r\n        return(\r\n            <h1 className='success'>{notif}</h1>\r\n        )\r\n    }\r\n    else{\r\n        return(\r\n            <h1 className='error'>{notif}</h1>\r\n        )\r\n        \r\n    }\r\n    \r\n}\r\n\r\n\r\nexport default Notifications","import { useEffect, useState } from 'react'\nimport Persons from './components/persons'\nimport Filter from './components/filter'\nimport PersonForm from './components/personform'\nimport phoneService from './services/phone'\nimport Notifications from './components/notifications'\n\n\nconst App = ()=>{\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNum, setNewNum] = useState('')\n  const [search, setSearch] = useState('')\n  const [notif, setNotif] = useState(null)\n\n  useEffect(()=>{\n    phoneService\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n      .catch(err => console.log(err))\n  }, [])\n\n\n\n\n  const handleSetNewName = (e)=>{\n    setNewName(e.target.value)\n  }\n  \n  const handleSetNewNum = (e) =>{\n    setNewNum(e.target.value)\n  }\n\n  const handleSetSearch = (e)=>{\n    console.log(e.target.value)\n    setSearch(e.target.value)\n  }\n\n  const filteredPersons = search === ''? persons : persons.filter(person=> person.name.toLowerCase().includes(search.toLowerCase()))\n\n  const addName = (e) =>{\n    e.preventDefault()\n    if (persons.findIndex(person=> person.name === newName) !== -1){\n      const confirmation = () => window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      \n      if(confirmation()){\n        const person = persons.find(p => p.name === newName)\n        const newObj = {...person, number: newNum}\n\n        phoneService\n          .update(newObj.id, newObj)\n          .then((res) =>{\n            const copy = persons.map(person => person.id !== newObj.id ? person : res)\n            setPersons(copy)\n          })\n      }\n\n    }else if (newName === '' || newNum === ''){\n      alert(\"Cannot add empty info\")\n      setNewName('')\n      setNewNum('')\n    }else{\n\n      const newObj = {name: newName, number: newNum}\n\n      phoneService\n        .create(newObj)\n        .then(returnObj =>{\n          setPersons(persons.concat(returnObj))\n          setNewName('')\n          setNewNum('')\n        }).catch(err => setNotif(err.response.data.error))\n\n        setNotif(`Added ${newName}`)\n\n        setTimeout(() => {\n          setNotif(null)\n        }, 2500);\n    }\n  }\n\n  const handleDelete = (id,name) =>{\n    const confirmation = () => window.confirm(`Delete ${name}?`)\n    if (confirmation()){\n        phoneService\n            .deleteItem(id)\n            .then(() => {\n              const personCopy = persons.filter(person=> person.id !== id)\n              setPersons(personCopy)\n            })\n            .catch(err=> setNotif(`Information of ${name} has already been removed from the server`))\n\n            \n            setTimeout(() => {\n              setNotif(null)\n            }, 2500);\n    }\n  }\n\n\n\n\n  return(\n    <div>\n      <h2>Phonebook</h2>\n      <Notifications notif={notif}/>\n      <Filter search={search} handleSetSearch={handleSetSearch}/>\n      <h2>Add a new</h2>\n      <PersonForm addName={addName} value={{newName, newNum}} handleEvent={{handleSetNewName, handleSetNewNum}}/>\n    \n      <h2>Numbers</h2>\n      <Persons persons={filteredPersons} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\n\nexport default App ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}